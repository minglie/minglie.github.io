<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="https://cdn.bootcss.com/react/16.8.0/umd/react.development.js"></script>
    <script src="https://cdn.bootcss.com/react-dom/16.8.0/umd/react-dom.development.js"></script>
    <script src="https://cdn.bootcss.com/babel-standalone/6.26.0/babel.min.js"></script>
    <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.js"></script>
    <script src="https://minglie.github.io/js/M_mock.js"></script>
    <title>react_hooks</title>
</head>

<body>

<div id="app" class="app"></div>

<script type="text/babel">
//  https://react.docschina.org/docs/hooks-intro.html



const {useState,useEffect}=React;


function ExampleHooks() {
  // 声明一个叫 "count" 的 state 变量
  const [count, setCount] = useState(0);

  useEffect(() => {
     console.log("ExampleHooks_componentDidUpdate")
  });




  useEffect(() => {
     //发出http请求
     console.log("ExampleHooks_componentDidMount")
     return()=>{
         console.log("ExampleHooks_componentWillUnMount")
    }
  },[]);


  console.log("ExampleHooks_render")

  return (
    <div>
      <p>You clicked {count} times</p>
      <button onClick={() => setCount(count + 1)}>
        Click me
      </button>
    </div>
  );
}




class ExampleClass extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      count: 0
    };
    console.log("ExampleClass_constructor") ;
  }

  componentWillMount() {
    console.log("ExampleClass_componentWillMount") ;
    return true;
  }

  componentDidMount() {
    console.log("ExampleClass_componentDidMount") ;
  }
  componentDidUpdate() {
    console.log("ExampleClass_componentDidMount") ;
  }
  componentWillUnmount () {
    console.log("ExampleClass_componentWillUnmount ") ;
  }
  componentWillReceiveProps (nextProps){
    console.log("ExampleClass_componentWillReceiveProps") ;
  }
  shouldComponentUpdate(nextProps,nextState){
    console.log("ExampleClass_shouldComponentUpdate") ;
    return true;
  }
  componentWillUpdate (nextProps,nextState){
    console.log("ExampleClass_componentWillUpdate") ;
  }
  componentDidUpdate(prevProps,prevState){
    console.log("ExampleClass_componentDidUpdate") ;
  }

  componentWillUnMount() {
    console.log("ExampleClass_componentWillUnMount") ;
    return true;
  }


  render() {
    console.log("ExampleClass_render") ;
    return (
      <div>
        <p>You clicked {this.state.count} times</p>
        <button onClick={() => this.setState({ count: this.state.count + 1 })}>
          Click me
        </button>
      </div>
    );
  }
}




    ReactDOM.render(
        <div>
            <ExampleHooks />
            <br/>
            <ExampleClass />
        </div>,
        document.getElementById('app')
    );
</script>



</body>
</html>