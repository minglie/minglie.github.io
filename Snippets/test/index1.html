<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>nodeTest</title>

    <script src="../../public/easyui/js/jquery.min.js"></script>
    <script src="../../js/M_mock.js"></script>

    <script>
        function main(text,num){
            M.host="http://localhost:8888";
          M.doSql(text,(d)=>{
              w(JSON.stringify(d,null,2));
          })
        }

    </script>
    <style type="text/css">
        #text_input {
            width: 50%;
            font-size: 18px;
            line-height: 1;
            background: rgba(100, 200, 50, 0.3);
        }
        #text_output {
            font-size: 18px;
            width: 100%;
            line-height: 1;
            background: rgba(200, 100, 50, 0.3);
        }
    </style>
</head>
<body>

<label><input name="M_radio" type="radio" value="0" />一般</label>

<hr/>
<h2 align="left">输入区</h2>
<textarea id="text_input" rows="5" style=" width: 1000px; height: 50px"></textarea>
<input type="button" id="btn1" value="执行" style="background:green;color:red;">
<hr/>
<h2 align="left" id="txt_output_title">输出区</h2>
<input type="button" id="btn2" value="清空输出">
 执行前清屏<input type="checkbox" id="chk_clr_screen">
<textarea id="text_output" rows="100" cols="100"></textarea>


<script type="text/javascript">//提供DOM操作的函数
function w(m) {
    text_output.value = text_output.value + m.toString() + "\n";
}

function get_M_radio() {
   // console.log(1);
    var b1 = document.getElementsByName('M_radio');
    for(var i = 0; i < b1.length; i++) {
        if(b1[i].checked == true) { //如果选中，下面的alert就会弹出选中的值
            var num=Number(b1[i].value);
            if(window.minglie_isINBtn1Click==false){
                switch(num) {
                    case 0:
                        text_input.value ="select * from resource;";
                        break;
                }
            }
            return(Number(b1[i].value));
        }
    }
}

//事件绑定初始化
function init(){
    var b1 = document.getElementsByName('M_radio');
    for(var i = 0; i < b1.length; i++) {
        b1[i].onclick=get_M_radio;
    }
    window.minglie_isINBtn1Click=false;
}
</script>


<script>
    init();
    get_M_radio();
    btn1.onclick = function () {
        window.minglie_isINBtn1Click=true;
        if (chk_clr_screen.checked) text_output.value = "";
        var text=text_input.value.trim();
        main(text,get_M_radio());
        window.minglie_isINBtn1Click=false;
    };
    btn2.onclick = function () {
        document.getElementById('text_output').value = "";
    }
</script>


</body>
</html>